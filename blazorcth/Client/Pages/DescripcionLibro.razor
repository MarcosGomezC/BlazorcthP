@page "/descripcionlibro"
@page "/descripcionlibro/{Id:int}"
@using BlazorCTH.Shared
@using BlazorCTH.Shared.DTOS
@inject HttpClient Http
@inject NavigationManager navegar


<MudCard Style="width:100%">
    <MudItem xs="10" Class="d-flex justify-center">
        <MudText Typo="Typo.h4" Align="Align.Center">Detalles del Libro</MudText>
    </MudItem>
    <MudText Typo="Typo.h5">@DetallesLibro.Nombre </MudText>
    <MudText Typo="Typo.subtitle2">@DetallesLibro.NombreAutor</MudText>

    <MudCardMedia Image="@DetallesLibro.UrlPortada"
                  Style="width:20%; height:400px; object-fit:cover; border-radius:30px;" />
    <MudCardContent>
        <MudText Typo="Typo.body1">@DetallesLibro.Descripcion</MudText>
    </MudCardContent>
</MudCard>

@code {

    [Parameter]
    public int Id { get; set; }
    public Libro_DTO DetallesLibro { get; set; } = new Libro_DTO();

    protected override async Task OnInitializedAsync()
    {
        
        await GetAutor(Id);
    }
    public async Task GetAutor(int idLibro)
    {
        DetallesLibro = await Http.GetFromJsonAsync<Libro_DTO>($"api/libro/GetLibro/{idLibro}");
    }

}
